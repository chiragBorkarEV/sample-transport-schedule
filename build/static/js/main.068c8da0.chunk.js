(this["webpackJsonpsample-transport-schedule"]=this["webpackJsonpsample-transport-schedule"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(9),i=n.n(s),r=(n(74),n(14)),o=n(135),u=n(66),l=n(136),j=n(34),d=n.n(j),h=n(63),m=n.n(h),b=n(65),f=n.n(b),x=n(131),O=Object(x.a)((function(e){return{serviceName:{fontSize:16,margin:"12px 0",cursor:"pointer","&:hover":{textDecoration:"underline"}},disruptionIcon:{margin:"6px 0 0 12px"}}})),g=n(4),p=function(e){var t=e.data,n=e.showContent,c=e.setShowCycleHireContent,a=O(),s=function(e){var t=!1;return e&&e.length>0&&(t=e.some((function(e){return 10!==e.statusSeverity}))),t},i=function(e){var t=!1;return e&&e.length>0&&(t=e.some((function(e){return"Night"===e.name}))),t};return Object(g.jsxs)(o.a,{container:!0,children:[!!t&&t.length>0&&t.map((function(e,t){return Object(g.jsx)(o.a,{item:!0,xs:12,md:6,className:a.serviceName,onClick:function(){return n({isDisruptive:s(e.lineStatuses),lineStatuses:e.lineStatuses})},children:(c=e.modeName,r=e.name,u=e.serviceTypes,l=e.lineStatuses,Object(g.jsxs)(g.Fragment,{children:["".concat(c," ").concat(r),s(l)&&Object(g.jsx)(m.a,{htmlColor:"#000",className:a.disruptionIcon}),i(u)&&Object(g.jsx)(f.a,{htmlColor:"#000",className:a.disruptionIcon})]}))},"serviceName-".concat(t));var c,r,u,l})),!!t&&Object(g.jsx)(o.a,{item:!0,xs:12,md:6,className:a.serviceName,onClick:function(){return c(!0)},children:"Cycle Hire"})]})},v=Object(x.a)((function(e){return{container:{margin:"36px 0",padding:12,height:"auto",background:"#ccc"},header:{fontSize:18,fontWeight:"bold",margin:"18px 0"},reason:{fontSize:16,marginBottom:18},resultContainer:{height:100,background:"#FFF",margin:"12px 0",padding:24},result:{marginBottom:18},textField:{width:320}}})),S=n(67),N=n(137),C=function(e){var t=e.classes,n=Object(c.useState)(null),a=Object(r.a)(n,2),s=a[0],i=a[1],u=Object(c.useState)(null),l=Object(r.a)(u,2),j=l[0],h=l[1],m=Object(c.useState)([]),b=Object(r.a)(m,2),f=b[0],x=b[1],O=function(e){if(i(e),e){var t=f.filter((function(t){return t.name===e}));t&&t.length>0?h(t[0].value):d.a.get("".concat("https://api.tfl.gov.uk/BikePoint/Search","?query=").concat(e)).then((function(t){h(t.data),function(e,t){var n=Object(S.a)(f);n.push({name:e,value:t}),x(n)}(e,t.data)})).catch((function(e){console.log(e)}))}else h(null)};return Object(g.jsxs)(o.a,{container:!0,className:t.container,children:[Object(g.jsx)(o.a,{item:!0,xs:12,children:Object(g.jsx)(o.a,{container:!0,className:t.resultContainer,children:Object(g.jsx)(o.a,{item:!0,xs:6,children:Object(g.jsx)(N.a,{id:"outlined-basic",label:"Search For Bike",variant:"outlined",className:t.textField,onChange:function(e){return O(e.target.value)}})})})}),!!j&&j.length>0&&j.map((function(e,n){return Object(g.jsx)(o.a,{item:!0,xs:12,className:t.result,children:"".concat(n+1,". ").concat(e.id.split("_")[1]," ").concat(e.commonName," (").concat(e.lat,", ").concat(e.lon,")")},"result-".concat(n))})),!!j&&0===j.length&&Object(g.jsx)(o.a,{item:!0,xs:12,className:t.result,children:"".concat("No bike points found for"," '").concat(s,"'")})]})},F=function(e){var t=e.data,n=e.showCycleHireContent,c=t||{},a=c.isDisruptive,s=c.lineStatuses,i=v();return Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(C,{classes:i}):Object(g.jsxs)(o.a,{container:!0,className:i.container,children:[Object(g.jsx)(o.a,{item:!0,xs:12,className:i.header,children:a?"Service currently suffering disruptions":"No service disruptions"}),a&&s.map((function(e,t){return Object(g.jsx)(o.a,{item:!0,xs:12,className:i.reason,children:10!==e.statusSeverity?e.reason:""},"disruption-".concat(t))}))]})})},k=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),i=Object(r.a)(s,2),j=i[0],h=i[1],m=Object(c.useState)(!1),b=Object(r.a)(m,2),f=b[0],x=b[1],O=Object(u.a)({});return Object(c.useEffect)((function(){d.a.get("https://api.tfl.gov.uk/Line/Mode/tube,overground,dlr/Status?detail=true").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(g.jsx)(l.a,{theme:O,children:Object(g.jsxs)(o.a,{container:!0,className:"App",children:[Object(g.jsx)(p,{data:n,showContent:function(e){x(!1),h(e)},setShowCycleHireContent:x}),(f||!!j)&&Object(g.jsx)(F,{data:j,showCycleHireContent:f})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,138)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root")),y()},74:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.068c8da0.chunk.js.map